<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<!-- Standard -->
		<meta name="description" content="The generated WadScript Help Page" />
		<meta name="generator" content="VSCode" />
		<meta name="copyright" content="Matt &quot;MTrop&quot; Tropiano" />

		<!-- Schema.org markup for Google+ -->
		<meta itemprop="name" content="DoomTools - WadScript Help" />
		<meta itemprop="description" content="The generated WadScript Help Page" />
		<meta itemprop="image" content="https://mtrop.github.io/DoomTools/images/logo.png" />

		<!-- Twitter -->
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:url" content="https://mtrop.github.io/DoomTools/wadscript.html" />
		<meta name="twitter:title" content="DoomTools - WadScript Help" />
		<meta name="twitter:description" content="The generated WadScript Help Page" />
		<meta name="twitter:image:src" content="https://mtrop.github.io/DoomTools/images/logo.png" />

		<!-- Open Graph -->
		<meta property="og:type" content="article" />
		<meta property="og:url" content="https://mtrop.github.io/DoomTools/wadscript.html" />
		<meta property="og:title" content="DoomTools - WadScript Help" />
		<meta property="og:image" content="https://mtrop.github.io/DoomTools/images/logo.png" />
		<meta property="og:description" content="The generated WadScript Help Page" />

		<title>DoomTools - WadScript Help</title>

		<!-- Style and Scripts -->
		<link rel="StyleSheet" type="text/css" href="css/w3.css" />
		<link rel="StyleSheet" type="text/css" href="css/site.css" />
		<link rel="StyleSheet" type="text/css" href="css/ipscode.css" />
	</head>
	<body>
		<div>
			<img class="site-logo" src="images/doomtools-banner-adjusted.png"/>
		</div>
		<div class="nav-section w3-center">
			<a href="index.html">Go Back to Home</a>
		</div>
		<div class="w3-row"><div class="w3-col l12 w3-center">&nbsp;</div></div>
		<div class="w3-row main-title">
			<h1 class="main-title-name w3-center">WadScript Help</h1>
		</div>
		<div class="nav-section w3-center">
			<a href="#readme">README</a> | <a href="#changelog">CHANGELOG</a>
		</div>
		<div class="w3-row w3-center">
			<a href="wadscript-functions.html">WadScript Function Reference</a>
		</div>
		
		<div>
			<p>
				This utility is a doozy - it employs a sophisticated scripting language called <em>RookScript </em>(made by yours truly) with some function extensions for manipulating WAD data! It's SO FLEXIBLE! There are even functions for doing byte-by-byte reading and streaming in case you want to do something not covered in the built-in functions! WHOA!
			</p>
			<p>
				Check this! Open a WAD and print its entry list:
			</p>			
			<pre class="ipsCode prettyprint lang-c prettyprinted">
<span class="pln">entry main</span><span class="pun">(</span><span class="pln">args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> error</span><span class="pun">(</span><span class="str">"NoWAD"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"No WAD specified."</span><span class="pun">);</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">
	check </span><span class="pun">(</span><span class="pln">err</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		wad </span><span class="pun">=</span><span class="pln"> wadfile</span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span><span class="pln">
		each </span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> e </span><span class="pun">:</span><span class="pln"> wad</span><span class="pun">-&gt;</span><span class="pln">waditerate</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			println</span><span class="pun">(</span><span class="pln">i </span><span class="pun">+</span><span class="pln"> </span><span class="str">": "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">size </span><span class="pun">+</span><span class="pln"> </span><span class="str">" bytes, at offset "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">offset</span><span class="pun">);</span><span class="pln">
		</span><span class="pun">}</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">
	close</span><span class="pun">(</span><span class="pln">wad</span><span class="pun">);</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">err </span><span class="pun">!=</span><span class="pln"> null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> err</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre>
			<p>
				Then you just run the script with:
			</p>
			<pre class="ipsCode">wadscript filenameOfScript.wscript file.wad</pre>
			<p>
				<strong>NOTE:</strong> The arguments after the script file are passed in via that args variable, so "file.wad" is readable from args[0].
			</p>
			<p>
				Or if you're using Bash, you can just slap <strong>#!/usr/bin/env wadscript</strong> into the first line and 
				flag the script as executable! <em>Wow!</em> (You can even do a similar thing with WadMerge scripts)
			</p>
			<p>
				Built-in function documentation for WadScript is included in the release archives, or you can type:
			</p>
			
			<pre class="ipsCode">wadscript --function-help</pre>
			<p>
				...and send the output to a file or what-have-you. To get it in HTML format, use <strong>--function-help-html</strong>. 
				A quick guide to RookScript is here (and included in the utilities): <a href="rookscript-guide.html">rookscript-guide.html</a>
			</p>
			<p>
				You also get the regular RookScript utility without the Doom extensions for FREE!
			</p>
			
			<pre class="ipsCode">rookscript [scriptfile]</pre>
		</div>
		<div>
			<h3 class="main-title-name w3-center">Full Command Help</h3>
		</div>
    <!-- ^^^ HEADER ^^^ -->
        <pre id="readme" class="text-documentation">
Usage: wadscript [filename] [switches | scriptargs]
                 [--help | -h | --version | --changelog]
                 [--function-help]
                 [--disassemble] [filename]
[filename]:
    The script filename.

[switches]:
    --help, -h                   Prints this help.
    --version                    Prints the version of this utility.
    --gui                        Starts the GUI version of this program.

    --function-help              Prints all available function usages.
    --function-help-markdown     Prints all available function usages in
                                     Markdown format.
    --function-help-html         Prints all available function usages in
                                     HTML format.
    --function-help-html-div     Prints all available function usages in
                                     HTML format, but just the content.
    --disassemble                Prints the disassembly for this script
                                     and exits.
    --entry-list                 Prints the list of entry point names for this
                                     script and exits.
    --entry [name], -e [name]    Use a different entry point named [name].
                                     Default: &quot;main&quot;
    --charset [name], -c [name]  Use a specific charset encoding, [name],
                                     instead of the system default. It is
                                     assumed that the rest of the included
                                     files are encoded this way, as well.
                                     Default: windows-1252
    --runaway-limit [num]        Sets the runaway limit (in operations)
                                     before the soft protection on infinite
                                     loops triggers. 0 is no limit.
                                     Default: 0
    --activation-depth [num]     Sets the activation depth to [num].
                                     Default: 256
    --stack-depth [num]          Sets the stack value depth to [num].
                                     Default: 2048
    --                           All tokens after this one are interpreted
                                     literally as args for the script.
                                     Normally, all unrecognized switches
                                     become arguments to the script. This
                                     forces the alternate interpretation.
    --X                          Bash script special: [DEPRECATED]
                                     First argument after this is the script
                                     file, and every argument after are args
                                     to pass to the script.

Scopes
------
All scripts can access a scope called &#x60;global&#x60; that serves as a common variable
scope for sharing values outside of functions or for data that you would want
to initialize once.
		</pre>
    <!-- VVV CHANGELOG VVV -->
		<div>
			<h3 id="changelog" class="main-title-name w3-center">CHANGELOG</h3>
		</div>
		<pre class="text-changelog">
### Changed for 1.6.1

* &#x60;Changed&#x60; [GUI-Executor] The working directory form field will not auto-fill unless it is blank.


### Changed for 1.6.0

* &#x60;Added&#x60; A directory tree for the GUI.


### Changed for 1.5.0

* &#x60;Fixed&#x60; The &#x60;--entry&#x60; switch didn&#39;t parse the command line properly after its use.
* &#x60;Added&#x60; The WadScript GUI, plus a switch to start it (&#x60;--gui&#x60;).
* &#x60;Added&#x60; A &#x60;--charset&#x60; switch for specifying the encoding of the script files (if not system default).


### Changed for 1.4.0

* &#x60;Added&#x60; A switch for printing the entry points for a script.


### Changed for 1.3.1

* &#x60;Changed&#x60; Improved HTML documentation output.


### Changed for 1.3.0

* &#x60;Added&#x60; A switch for dumping documentation as HTML. (Enhancement #45)


### Changed for 1.2.2

* &#x60;Changed&#x60; WadScript will now dump a stacktrace if a script host function produces an unhandled exception.


### Changed for 1.2.1

* &#x60;Fixed&#x60; WADSETTYPE() did not accept two parameters, as described.


### Changed for 1.2.0

* &#x60;Added&#x60; All scripts can now make use of a global scope called &#x60;global&#x60;.


### Changed for 1.1.0.1

* &#x60;Added&#x60; Clarifications to documentation that PKE files are also openable like PK3s.


### Changed for 1.1.0

* &#x60;Added&#x60; Functions: WADSETTYPE for setting the WAD type.


### Changed for 1.0.2

* &#x60;Added&#x60; Made it easier to interface with from other tools.


### Changed for 1.0.1

* &#x60;Fixed&#x60; Markdown documentation output.


### Changed for 1.0.0

* Initial Release.

		</pre>
    <!-- VVV FOOTER VVV -->
		<div class="w3-row site-footer">
			<div class="w3-col s12 w3-center w3-small">
				Copyright (C) Matt "MTrop" Tropiano<br/>
				<a href="https://www.dafont.com/amazdoom.font">AmazDoom Font</a> by Amazingmax<br/>
				Doom is a registered trademark of id Software, LLC<br/>
				Not affiliated with id Software LLC, Bethesda Softworks LLC, nor ZeniMax Media Inc.
			</div>
		</div>
	</body>
</html>
